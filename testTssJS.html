<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>tssJS test</title>

	<script type="text/javascript" src="tssJS.js"></script>
 
	<style>
		 
 

	</style>

	<script type="text/javascript">

	// 扩展tssJS 单元测试的静态方法
	; (function($) {
	    $.extend({
	        /* 前台单元测试断言 */
	        "assertEquals": function(expect, actual, msg) {
	            if (expect != actual) {
	                alert(msg + ": " + "[expect: " + expect + ", actual: " + actual + "]");
	            }
	        },

	        "assertTrue": function(result, msg) {
	            if (!result && msg) {
	                alert(msg);
	            }
	        },

	        "assertNotNull": function(result, msg) {
	            if (result == null && msg) {
	                $.error(msg);
	            }
	        }
	    });
	})(tssJS);


	 $(function() {
 		$.assertEquals("1.0.0", this.tssjs, "$(fn) method error.");
	 });


	 // test core

	 $().ready(function(name) {
 		$.assertEquals("tssJS1.0.0", name + this.tssjs, "$().ready(fn) method error.");
 
 		var tssJSObj = $("#div1");
 		$.assertEquals(1, tssJSObj.size(), "tssJSObj.size() error.");
 		$.assertEquals("div1", tssJSObj[0].id, "tssJSObj[0].id error.");

 		tssJSObj.each(function(x) { 
 			$.assertEquals("div1234", this.id + x, "tssJSObj.each() error.");
 		}, [234]);

		tssJSObj.css("background-color", "#565656");
		$.assertEquals("rgb(86, 86, 86)", tssJSObj.css("background-color"), "tssJSObj.css(xx) error.");

	 }, "tssJS");

	 $.assertEquals(true, !!$);
	 $.noConflict();
	 tssJS.assertEquals(false, !!$);

	 $ = tssJS;

	 $.assertEquals(true,  $.isFunction( function(){}) );
	 $.assertEquals(true,  $.isArray( [1,2,3] ) );
	 $.assertEquals(true,  $.isWindow( this ) );
	 $.assertEquals(true,  $.isEmptyObject( {} ) );
	 $.assertEquals(false,  $.isEmptyObject( {"x":"1"} ) );

	 $.assertEquals(true,  $.isNullOrEmpty( " " ) );

	// $.error("1234");

	var json = '{"x":"1", "y":"2"}';
	var data = $.parseJSON(json);
	$.assertEquals("12", data["x"] + data["y"], "$.parseJSON(json) error.");

	var f1 = "function f1() { return console.log('f1'); };";
	$.globalEval(f1 + "f1();");

	var f2 = function(x) { return "f2" + (x?x:"");}
	$.assertEquals("f2", $.execCommand(f2), "$.execCommand() error.");
	$.assertEquals("f299", $.execCommand("f2", 99), "$.execCommand() error.");
 

 	// test Element

 	// test Cookie、Query等
 	// alert($.Query.get("x"));

 	// test Event


 	// test XML
	var str = [];
    str[str.length] = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>";
    str[str.length] = "<book id=\"1\">";
	str[str.length] = "	<title>Harry Potter</title>";
	str[str.length] = "	<author>JK.Rowling</author>";
	str[str.length] = "	<year>2005</year>";
	str[str.length] = "</book>";

	var dataXml = str.join("\r\n");

	var xml = $.parseXML(dataXml);

	</script>
</head>

<body>


	<div id='div1'>
		<input id='d1'> </input>
	</div>
 

</body>
</html>